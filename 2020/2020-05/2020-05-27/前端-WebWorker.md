# å‰ç«¯-WebWorkeræ€»ç»“

  - [jsä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ](#js%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B)
  - [æµè§ˆå™¨æ˜¯å¤šçº¿ç¨‹çš„](#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84)
  - [åˆ©ç”¨Web Workerå¼€å¯ä¸€ä¸ªå­çº¿ç¨‹](#%E5%88%A9%E7%94%A8web-worker%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E5%AD%90%E7%BA%BF%E7%A8%8B)
  - [å…¼å®¹æ€§](#%E5%85%BC%E5%AE%B9%E6%80%A7)
  - [æ€»ç»“](#%E6%80%BB%E7%BB%93)
  - [ğŸ™ æ„Ÿè°¢](#-%E6%84%9F%E8%B0%A2)

## jsä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ
ä¸»è¦æ˜¯å› ä¸ºæœ€å¼€å§‹`javascript`æ˜¯å•çº¯çš„æœåŠ¡äºæµè§ˆå™¨çš„ä¸€ç§è„šæ­¥è¯­è¨€ï¼ˆé‚£æ—¶å€™æ²¡æœ‰`nodejs`ï¼‰ã€‚æµè§ˆå™¨æ˜¯ä¸ºäº†æ¸²æŸ“ç½‘é¡µï¼Œé€šè¿‡`dom`ä¸ç”¨æˆ·äº¤äº’ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹éœ€è¦ç»™`dom`æ‰§è¡Œ`click`äº‹ä»¶ï¼Œè€Œå¦ä¸€ä¸ªè¿›ç¨‹è¦åˆ é™¤è¿™ä¸ª`dom`ï¼Œè¿™2ä¸ªåŠ¨ä½œå¯èƒ½åŒæ—¶è¿›è¡Œï¼Œä¹Ÿå¯èƒ½å…ˆåè¿›è¡Œï¼ˆåƒ`java, c#`ç­‰è¯­è¨€ä¸­ä¼šå¼•å…¥é”çš„æ¦‚å¿µï¼Œè¿™æ ·ä¼šå˜å¾—å¼‚å¸¸å¤æ‚ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆå¾ˆå¤šä¸å¯é¢„æ–™çš„é”™è¯¯ã€‚

> æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼Œ`JavaScript`å°±æ˜¯å•çº¿ç¨‹ï¼Œè¿™å·²ç»æˆäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾ã€‚ä¸ºäº†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ï¼Œ`HTML5`æå‡º**Web Worker**æ ‡å‡†ï¼Œå…è®¸`JavaScript`è„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œ`DOM`ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜`JavaScript`å•çº¿ç¨‹çš„æœ¬è´¨ã€‚


## æµè§ˆå™¨æ˜¯å¤šçº¿ç¨‹çš„
æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªtabï¼Œå°±ä¼šå•ç‹¬å¼€ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œå‚è€ƒï¼š[JSè¿è¡Œæœºåˆ¶](https://segmentfault.com/a/1190000012925872)
ä¸»è¦åŒ…å«çš„çº¿ç¨‹æœ‰ï¼š
1. GUIæ¸²æŸ“çº¿ç¨‹

> è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢ï¼Œè§£æHTMLï¼ŒCSSï¼Œæ„å»ºDOMæ ‘å’ŒRenderObjectæ ‘ï¼Œå¸ƒå±€å’Œç»˜åˆ¶ç­‰ã€‚
> å½“ç•Œé¢éœ€è¦é‡ç»˜ï¼ˆRepaintï¼‰æˆ–ç”±äºæŸç§æ“ä½œå¼•å‘å›æµ(reflow)æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œ
> æ³¨æ„ï¼Œ**GUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„**ï¼Œå½“JSå¼•æ“æ‰§è¡Œæ—¶GUIçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ˆç›¸å½“äºè¢«å†»ç»“äº†ï¼‰ï¼ŒGUIæ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­**ç­‰åˆ°JSå¼•æ“ç©ºé—²æ—¶**ç«‹å³è¢«æ‰§è¡Œã€‚

2. JSå¼•æ“çº¿ç¨‹

> ä¹Ÿç§°ä¸ºJSå†…æ ¸ï¼Œè´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºã€‚ï¼ˆä¾‹å¦‚V8å¼•æ“ï¼‰
> JSå¼•æ“çº¿ç¨‹è´Ÿè´£è§£æJavascriptè„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚
> JSå¼•æ“ä¸€ç›´ç­‰å¾…ç€ä»»åŠ¡é˜Ÿåˆ—ä¸­ä»»åŠ¡çš„åˆ°æ¥ï¼Œç„¶ååŠ ä»¥å¤„ç†ï¼Œä¸€ä¸ªTabé¡µï¼ˆrendererè¿›ç¨‹ï¼‰ä¸­æ— è®ºä»€ä¹ˆæ—¶å€™éƒ½åªæœ‰ä¸€ä¸ªJSçº¿ç¨‹åœ¨è¿è¡ŒJSç¨‹åº
> åŒæ ·æ³¨æ„ï¼Œ**GUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„**ï¼Œæ‰€ä»¥å¦‚æœJSæ‰§è¡Œçš„æ—¶é—´è¿‡é•¿ï¼Œè¿™æ ·å°±ä¼šé€ æˆé¡µé¢çš„æ¸²æŸ“ä¸è¿è´¯ï¼Œå¯¼è‡´é¡µé¢æ¸²æŸ“åŠ è½½é˜»å¡ã€‚

3. äº‹ä»¶è§¦å‘çº¿ç¨‹

> å½’å±äºæµè§ˆå™¨è€Œä¸æ˜¯JSå¼•æ“ï¼Œç”¨æ¥æ§åˆ¶äº‹ä»¶å¾ªç¯ï¼ˆå¯ä»¥ç†è§£ï¼ŒJSå¼•æ“è‡ªå·±éƒ½å¿™ä¸è¿‡æ¥ï¼Œéœ€è¦æµè§ˆå™¨å¦å¼€çº¿ç¨‹ååŠ©ï¼‰
> å½“JSå¼•æ“æ‰§è¡Œä»£ç å—å¦‚setTimeOutæ—¶ï¼ˆä¹Ÿå¯æ¥è‡ªæµè§ˆå™¨å†…æ ¸çš„å…¶ä»–çº¿ç¨‹,å¦‚é¼ æ ‡ç‚¹å‡»ã€AJAXå¼‚æ­¥è¯·æ±‚ç­‰ï¼‰ï¼Œä¼šå°†å¯¹åº”ä»»åŠ¡æ·»åŠ åˆ°äº‹ä»¶çº¿ç¨‹ä¸­
> å½“å¯¹åº”çš„äº‹ä»¶ç¬¦åˆè§¦å‘æ¡ä»¶è¢«è§¦å‘æ—¶ï¼Œè¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾…JSå¼•æ“çš„å¤„ç†
> æ³¨æ„ï¼Œç”±äºJSçš„å•çº¿ç¨‹å…³ç³»ï¼Œæ‰€ä»¥è¿™äº›å¾…å¤„ç†é˜Ÿåˆ—ä¸­çš„äº‹ä»¶éƒ½å¾—æ’é˜Ÿç­‰å¾…JSå¼•æ“å¤„ç†ï¼ˆå½“JSå¼•æ“ç©ºé—²æ—¶æ‰ä¼šå»æ‰§è¡Œï¼‰

4. å®šæ—¶è§¦å‘å™¨çº¿ç¨‹

> ä¼ è¯´ä¸­çš„`setInterval`ä¸`setTimeout`æ‰€åœ¨çº¿ç¨‹
> æµè§ˆå™¨å®šæ—¶è®¡æ•°å™¨å¹¶ä¸æ˜¯ç”±JavaScriptå¼•æ“è®¡æ•°çš„,ï¼ˆå› ä¸ºJavaScriptå¼•æ“æ˜¯å•çº¿ç¨‹çš„, å¦‚æœå¤„äºé˜»å¡çº¿ç¨‹çŠ¶æ€å°±ä¼šå½±å“è®°è®¡æ—¶çš„å‡†ç¡®ï¼‰
> å› æ­¤é€šè¿‡å•ç‹¬çº¿ç¨‹æ¥è®¡æ—¶å¹¶è§¦å‘å®šæ—¶ï¼ˆè®¡æ—¶å®Œæ¯•åï¼Œæ·»åŠ åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…JSå¼•æ“ç©ºé—²åæ‰§è¡Œï¼‰
> æ³¨æ„ï¼ŒW3Cåœ¨HTMLæ ‡å‡†ä¸­è§„å®šï¼Œè§„å®šè¦æ±‚setTimeoutä¸­ä½äº4msçš„æ—¶é—´é—´éš”ç®—ä¸º4msã€‚


5. å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹

> åœ¨`XMLHttpRequest`åœ¨è¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨æ–°å¼€ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚
> å°†æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±**äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶**ï¼Œå°†è¿™ä¸ªå›è°ƒå†æ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚å†ç”±`JavaScript`å¼•æ“æ‰§è¡Œã€‚

ä¸Šé¢åˆ—å‡ºçš„çº¿ç¨‹ä¹‹é—´ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„è§„åˆ™æ˜¯ï¼š**GUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹äº’æ–¥**ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®º**JSé˜»å¡é¡µé¢åŠ è½½**ï¼Œé‚£ä¹ˆåœ¨`js`è¿è¡Œçš„è¿™æ®µæ—¶é—´å†…ï¼Œ`GUI`çš„æ¸²æŸ“ä¼šåœæ­¢ï¼Œè¿™æ®µæ—¶é—´å†…çš„ç•Œé¢äº¤äº’ï¼Œ`DOM`çš„é‡ç»˜ä¸å›æµä¼šåœæ­¢ï¼Œä¼šè¢«ä¿å­˜åˆ°å¾…æ‰§è¡Œé˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°`js`çº¿ç¨‹ç©ºé—²ï¼Œæ‰ä¼šæ‰§è¡Œè¿™äº›é˜Ÿåˆ—ã€‚
æˆ‘ä»¬ç”¨ä¸‹é¢çš„ä¸€æ®µä»£ç å’Œè¿è¡Œç»“æœæ¥è¯´æ˜è¿™ä¸ªæœºåˆ¶ï¼š
```html
<html>
<head>
	<style>
		.box {
			width: 200px;
			height: 200px;
			margin-top: 100px;
			background: #f09;
			animation: bounce 2s linear 0s infinite alternate;
			background-image: linear-gradient(45deg, #3023AE 0%, #f09 100%);
		}
		@keyframes bounce {
			0% {
				border-radius: 40% 60% 72% 28% / 70% 77% 23% 30%;
			}
			100% {
				border-radius: 75% 25% 24% 76% / 13% 15% 85% 87%;
			}
		}
	</style>
</head>
<body>
	<div class="box"></div>
</body>
<script>
	// è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—,è¿™ä¸ªæ•°åˆ—ä»ç¬¬3é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½ç­‰äºå‰ä¸¤é¡¹ä¹‹å’Œã€‚
	function recurFib(n) {
		if (n < 2) {
			return n;
		} else {
			return recurFib(n - 1) + recurFib(n - 2)
		}
	}

	window.onload = function () {
		setTimeout(function () {
			console.time("è¿ç®—è€—æ—¶ï¼š")
			// è®¡ç®—nä¸º40çš„ç»“æœ
			console.log('ç»“æœï¼š', recurFib(40))
			console.timeEnd("è¿ç®—è€—æ—¶ï¼š")
		}, 2000)
		document.getElementsByClassName("box")[0].addEventListener('click', function () {
			console.log('click')
		})
	}
</script>
</html>
```
![è¿è¡Œæ•ˆæœ](./webworker_demo.gif)
å¯ä»¥çœ‹åˆ°ï¼Œä¸€å¼€å§‹ç½‘é¡µå’ŒåŠ¨ç”»æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯å¼€å§‹æ‰§è¡Œè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—åï¼ŒåŠ¨ç”»å°±åœæ­¢äº†ï¼Œé¡µé¢ä¹Ÿåœæ­¢å“åº”é¼ æ ‡çš„`click`äº‹ä»¶äº†ï¼Œç›´åˆ°`recurFib(40)`è®¡ç®—å‡ºç»“æœåï¼ŒåŠ¨ç”»æ‰å¼€å§‹ç»§ç»­æ‰§è¡Œï¼Œè€ŒæœŸé—´ç§¯æ”’çš„`click`äº‹ä»¶ä¹Ÿåœ¨ä¸€èµ·è¢«æ‰§è¡Œã€‚è¿™å°±è§£é‡Šäº†**GUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹äº’æ–¥**ã€‚ç”±äºè¿™ä¸ªå¼Šç«¯`HTML5`æå‡º**Web Worker**æ ‡å‡†ã€‚

## åˆ©ç”¨Web Workerå¼€å¯ä¸€ä¸ªå­çº¿ç¨‹
Web Worker æœ‰ä»¥ä¸‹å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚
> 1.åŒæºé™åˆ¶
åˆ†é…ç»™ Worker çº¿ç¨‹è¿è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œå¿…é¡»ä¸ä¸»çº¿ç¨‹çš„è„šæœ¬æ–‡ä»¶åŒæºã€‚
2.DOM é™åˆ¶
Worker çº¿ç¨‹æ‰€åœ¨çš„å…¨å±€å¯¹è±¡ï¼Œä¸ä¸»çº¿ç¨‹ä¸ä¸€æ ·ï¼Œæ— æ³•è¯»å–ä¸»çº¿ç¨‹æ‰€åœ¨ç½‘é¡µçš„ DOM å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨`document`ã€`window`ã€`parent`è¿™äº›å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒWorker çº¿ç¨‹å¯ä»¥`navigator`å¯¹è±¡å’Œ`location`å¯¹è±¡ã€‚
3.é€šä¿¡è”ç³»
Worker çº¿ç¨‹å’Œä¸»çº¿ç¨‹ä¸åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå®ƒä»¬ä¸èƒ½ç›´æ¥é€šä¿¡ï¼Œå¿…é¡»é€šè¿‡æ¶ˆæ¯å®Œæˆã€‚
4.è„šæœ¬é™åˆ¶
Worker çº¿ç¨‹ä¸èƒ½æ‰§è¡Œ`alert()`æ–¹æ³•å’Œ`confirm()`æ–¹æ³•ï¼Œä½†å¯ä»¥ä½¿ç”¨ XMLHttpRequest å¯¹è±¡å‘å‡º AJAX è¯·æ±‚ã€‚
5.æ–‡ä»¶é™åˆ¶
Worker çº¿ç¨‹æ— æ³•è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œå³ä¸èƒ½æ‰“å¼€æœ¬æœºçš„æ–‡ä»¶ç³»ç»Ÿï¼ˆ`file:`ï¼‰ï¼Œå®ƒæ‰€åŠ è½½çš„è„šæœ¬ï¼Œå¿…é¡»æ¥è‡ªç½‘ç»œã€‚

ä»¥ä¸Šè§„åˆ™å¼•ç”¨é˜®ä¸€å³°è€å¸ˆçš„ï¼š [Web Worker ä½¿ç”¨æ•™ç¨‹](http://www.ruanyifeng.com/blog/2018/07/web-worker.html)
åˆ›å»ºWorkeræ—¶ï¼ŒJSå¼•æ“å‘æµè§ˆå™¨ç”³è¯·å¼€ä¸€ä¸ªå­çº¿ç¨‹ï¼ˆå­çº¿ç¨‹æ˜¯æµè§ˆå™¨å¼€çš„ï¼Œå®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œè€Œä¸”ä¸èƒ½æ“ä½œDOMï¼‰
JSå¼•æ“çº¿ç¨‹ä¸workerçº¿ç¨‹é—´é€šè¿‡ç‰¹å®šçš„æ–¹å¼é€šä¿¡ï¼ˆ`postMessage API`ï¼Œéœ€è¦é€šè¿‡åºåˆ—åŒ–å¯¹è±¡æ¥ä¸çº¿ç¨‹äº¤äº’ç‰¹å®šçš„æ•°æ®ï¼‰ã€‚
ä¸‹é¢æˆ‘ä»¬ç”¨`worker`çš„ç›¸å…³`api`æ¥è§£å†³ä¸Šé¢å¡é¡¿çš„é—®é¢˜ã€‚
```html
<!--index.htmlä¸»çº¿ç¨‹-->
<html>
<head>
	<style>
		.box {
			width: 200px;
			height: 200px;
			margin-top: 100px;
			background: #f09;
			animation: bounce 2s linear 0s infinite alternate;
			background-image: linear-gradient(45deg, #3023AE 0%, #f09 100%);
		}
		@keyframes bounce {
			0% {
				border-radius: 40% 60% 72% 28% / 70% 77% 23% 30%;
			}
			100% {
				border-radius: 75% 25% 24% 76% / 13% 15% 85% 87%;
			}
		}
	</style>
</head>
<body>
	<div class="box"></div>
</body>
<script>
	window.onload = function () {
		// åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹workerå®ä¾‹
		var worker = new Worker('./test.js');
		setTimeout(function () {
			// é€šä¿¡ï¼šå‘å­çº¿ç¨‹å‘é€æ¶ˆæ¯
			worker.postMessage('start')
		}, 2000)
		worker.addEventListener('message', function(res) {
			//  é€šä¿¡ï¼šæ”¶åˆ°å­çº¿ç¨‹æ¶ˆæ¯
			console.log('result:',JSON.stringify(res.data));
			// å…³é—­workerçº¿ç¨‹
			worker.terminate();
		})
		document.getElementsByClassName("box")[0].addEventListener('click', function () {
			console.log('click')
		})
	}
</script>
</html>
```
```javascript
// test.jså­çº¿ç¨‹ä»£ç 
// é€šè¿‡ç›‘å¬messageæ¥æ¥å—ä¸»çº¿ç¨‹ä¸­çš„æ¶ˆæ¯
addEventListener('message', function(res) {
    // å­çº¿ç¨‹å‘ä¸»çº¿ç¨‹ä¸­å‘ç”Ÿæ¶ˆæ¯
    // è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—,è¿™ä¸ªæ•°åˆ—ä»ç¬¬3é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½ç­‰äºå‰ä¸¤é¡¹ä¹‹å’Œã€‚
	if(res.data === 'start') {
		// å¼€å§‹è¿ç®—
		console.log('æ”¶åˆ°ä¸»çº¿ç¨‹æ¶ˆæ¯ï¼Œå¼€å§‹è¿ç®—')
		function recurFib(n) {
			if(n < 2){
				// ä¸»åŠ¨å…³é—­å­çº¿ç¨‹
				// this.close()
				return n ;
			}else {
				return recurFib(n-1)+recurFib(n-2)
			}
		}
		console.time("è¿ç®—æ—¶é—´ï¼š")
		// è®¡ç®—nä¸º40çš„ç»“æœ
		var count = recurFib(40)
		console.timeEnd("è¿ç®—æ—¶é—´ï¼š")
		// å‘ä¸»çº¿ç¨‹å‘é€æ¶ˆæ¯
		console.log('è¿ç®—å®Œæ¯•,å‘é€æ¶ˆæ¯ç»™ä¸»çº¿ç¨‹ï¼')
		this.postMessage(count);
	}
})
```
è¿è¡Œç»“æœï¼š
![7.png](./webworker_demo2.gif)


å¯ä»¥çœ‹åˆ°æ•´ä¸ªè¿è¡Œè¿‡ç¨‹åŠ¨ç”»æ²¡æœ‰å¡é¡¿ï¼Œä¹Ÿèƒ½å“åº”`click`äº‹ä»¶ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬é‡åˆ°å¤§å‹è®¡ç®—çš„æ—¶å€™ï¼Œè¯·å•ç‹¬å¼€å¯ä¸€ä¸ª`worker`å­çº¿ç¨‹æ¥è§£å†³`js`çº¿ç¨‹é˜»å¡`GUI`çº¿ç¨‹çš„é—®é¢˜ã€‚ä¸Šæ–‡ä¸­åªæ¶‰åŠåˆ°ä¸€éƒ¨åˆ†`worker API`ã€‚å…³äº`worker`æ›´è¯¦ç»†æ›´å…·ä½“çš„ç”¨æ³•å¯ä»¥å‚è§:  [Web Worker ä½¿ç”¨æ•™ç¨‹](http://www.ruanyifeng.com/blog/2018/07/web-worker.html)

## å…¼å®¹æ€§
![1.png](https://b3logfile.com/file/2020/05/1-7d054506.png)
å¯ä»¥çœ‹åˆ°é™¤äº†Opera Miniæµè§ˆå™¨ï¼Œè¿IEéƒ½èƒ½ä½¿ç”¨äº†ï¼Œæ‰€ä»¥å…¼å®¹æ€§é—®é¢˜ä¸å¤§ã€‚

## æ€»ç»“
1.  ç”±äº`javaScript`çš„æœ€åˆè®¾è®¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨äº†å•çº¿ç¨‹çš„è¿è¡Œæœºåˆ¶ã€‚
2.  æµè§ˆå™¨æ˜¯å¤šä¸ªçº¿ç¨‹ç›¸äº’åä½œæ¥å·¥ä½œçš„ï¼Œä½†æ˜¯**GUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹äº’æ–¥**ã€‚
3.  `js`çº¿ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œä¼šé”æ­»`GUI`æ¸²æŸ“çº¿ç¨‹ï¼Œä¸ºäº†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ï¼Œ`HTML5`æå‡º**Web Worker**æ ‡å‡†ã€‚
4.  `Web Worker`çš„ä½¿ç”¨æœ‰ä¸€äº›é™åˆ¶ï¼Œæ¯”å¦‚è¯´ï¼šåŒæºé™åˆ¶ï¼Œ`DOM`é™åˆ¶ï¼Œæ–‡ä»¶é™åˆ¶ç­‰ï¼Œä½†èƒ½è§£å†³åœ¨`js`éœ€è¦å¤§é‡è®¡ç®—å·¥ä½œæ—¶ï¼Œé¡µé¢å¡é¡¿çš„é—®é¢˜ã€‚
5. `Web Worker`å®é™…ä¸Šæ˜¯`js`çº¿ç¨‹çš„ä¸€ä¸ªå­çº¿ç¨‹ï¼Œç†è®ºä¸Š`js`è¿˜æ˜¯å•çº¿ç¨‹çš„ã€‚

## ğŸ™ æ„Ÿè°¢
[çŸ¥é“ html5 Web Worker æ ‡å‡†å—ï¼Ÿèƒ½å®ç° JavaScript çš„å¤šçº¿ç¨‹ï¼Ÿ](https://hacpai.com/article/1589852639518)